% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/AuditLog.R
\name{AuditLog}
\alias{AuditLog}
\title{Log User Actions to Audit Trail}
\usage{
AuditLog(userAction, currentUser)
}
\arguments{
\item{userAction}{A character string describing the action performed by
the user (e.g., "Viewed patient record", "Modified data", "Logged in").}

\item{currentUser}{A reactiveVal or reactiveValues object containing the
current user's name. If NULL or empty, logs as "Unknown".}
}
\value{
Invisibly returns the number of rows affected (typically 1 on success).
}
\description{
Records user actions to the audit_log database table with timestamp and
username information. Used for compliance, security monitoring, and
activity tracking. Username comes from the currentUser reactive passed
from the IdentifyFirefighter module.
}
\details{
The function logs three pieces of information:
\itemize{
\item Username: Extracted from \code{currentUser()}, or "Unknown" if NULL
\item Timestamp: Current system time in "YYYY-MM-DD HH:MM:SS" format
\item User action: The description provided in \code{userAction}
}

The function uses parameterized queries via \code{sqlInterpolate()} to prevent
SQL injection attacks. The database connection is accessed via
\code{app_data$CON}.
}
\examples{
\dontrun{
# Create reactive user
currentUser <- reactiveVal("John Doe")

# Log a patient record view
AuditLog("Viewed patient record #12345", currentUser)

# Log a data modification
AuditLog("Updated patient demographics", currentUser)

# Log a login event
AuditLog("User logged in", currentUser)
}

}
